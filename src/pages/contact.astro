---
import MainLayout from '../components/layout/MainLayout.astro';
import Button from '../components/shared/Button.astro';
---

<MainLayout title="Contact Us">
  <div class="min-h-screen bg-gradient-to-br from-brand-red via-brand-orange to-brand-yellow">
    <!-- Hero Section -->
    <section class="py-20 px-4 relative overflow-hidden">
      <!-- Background Pattern -->
      <div class="absolute inset-0 bg-gradient-to-br from-brand-red/90 via-brand-orange/90 to-brand-yellow/90"></div>
      <div class="absolute inset-0 opacity-30">
        <div class="absolute inset-0 bg-white/10"></div>
      </div>
      
      <div class="max-w-7xl mx-auto text-center relative z-10">
        <h1 class="text-5xl md:text-6xl font-bold text-white mb-6">
          Enterprise
          <span class="text-brand-yellow">Contact Center</span>
        </h1>
        <p class="text-xl text-white/90 mb-8 max-w-3xl mx-auto">
          Connect with our enterprise team. Chat with SHANGO, our AI Super Agent, or reach out directly for mission-critical support and solutions.
        </p>
        
        <!-- Contact Statistics -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12 max-w-4xl mx-auto">
          <div class="bg-white/20 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-white/30">
            <div class="text-2xl font-bold text-white">24/7</div>
            <div class="text-sm text-white/80">Enterprise Support</div>
          </div>
          <div class="bg-white/20 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-white/30">
            <div class="text-2xl font-bold text-white">Under 1hr</div>
            <div class="text-sm text-white/80">Response Time</div>
          </div>
          <div class="bg-white/20 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-white/30">
            <div class="text-2xl font-bold text-white">99.9%</div>
            <div class="text-sm text-white/80">Uptime SLA</div>
          </div>
          <div class="bg-white/20 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-white/30">
            <div class="text-2xl font-bold text-white">SOC II</div>
            <div class="text-sm text-white/80">Compliant</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Form Section -->
    <section class="py-20 px-4 bg-white">
      <div class="max-w-7xl mx-auto">
        <!-- Success Message -->
        <div id="success-message" class="max-w-xl mx-auto bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6 hidden">
          <p class="font-semibold">Thank you for your message!</p>
          <p>We'll get back to you within 24 hours.</p>
        </div>

        <!-- Error Message -->
        <div id="error-message" class="max-w-xl mx-auto bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 hidden">
          <p class="font-semibold">Oops! Something went wrong.</p>
          <p id="error-text">Please try again or contact us directly.</p>
        </div>

        <div class="grid md:grid-cols-2 gap-12">
          <!-- Contact Form -->
          <div class="bg-gradient-to-br from-brand-red/5 to-brand-orange/5 rounded-xl p-8 shadow-lg border border-brand-red/20">
            <h2 class="text-3xl font-bold mb-6 text-gray-900">Send us a Message</h2>
            <form id="contact-form" class="space-y-6" aria-label="Contact form">
              <div>
                <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
                  Full Name
                </label>
                <input 
                  type="text" 
                  name="name" 
                  id="name" 
                  required 
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-red focus:border-brand-red transition-colors"
                  placeholder="Enter your full name"
                />
              </div>
              <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                  Email Address
                </label>
                <input 
                  type="email" 
                  name="email" 
                  id="email" 
                  required 
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-red focus:border-brand-red transition-colors"
                  placeholder="Enter your email address"
                />
              </div>
              <div>
                <label for="company" class="block text-sm font-medium text-gray-700 mb-2">
                  Company (Optional)
                </label>
                <input 
                  type="text" 
                  name="company" 
                  id="company" 
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-red focus:border-brand-red transition-colors"
                  placeholder="Enter your company name"
                />
              </div>
              <div>
                <label for="message" class="block text-sm font-medium text-gray-700 mb-2">
                  Message
                </label>
                <textarea 
                  name="message" 
                  id="message" 
                  required 
                  rows="4" 
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-red focus:border-brand-red transition-colors"
                  placeholder="Tell us about your enterprise needs..."
                ></textarea>
              </div>
              <button 
                type="submit" 
                id="submit-btn" 
                class="w-full bg-brand-red text-white px-6 py-4 rounded-lg font-semibold hover:bg-brand-red/90 transition-colors focus:outline-none focus:ring-2 focus:ring-brand-red shadow-lg"
              >
                <span id="submit-text">Send Message</span>
                <span id="loading-text" class="hidden">Sending...</span>
              </button>
            </form>
          </div>
          
          <!-- SHANGO Live Chat Section -->
          <div class="bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl p-8 shadow-lg border border-purple-200">
            <div class="text-center mb-8">
              <div class="w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <span class="text-2xl text-white">&#129302;#129302;#129302;#129302;</span>
              </div>
              <h2 class="text-3xl font-bold text-gray-900 mb-4">Chat with SHANGO</h2>
              <p class="text-gray-600 mb-6">
                Our AI Super Agent is available 24/7 to help with enterprise inquiries, technical support, and solution recommendations.
              </p>
            </div>
            
            <!-- SHANGO Features -->
            <div class="space-y-4 mb-8">
              <div class="flex items-center">
                <span class="text-green-600 mr-3">&check;</span>
                <span class="text-gray-700">Instant responses to enterprise queries</span>
              </div>
              <div class="flex items-center">
                <span class="text-green-600 mr-3">&check;</span>
                <span class="text-gray-700">Technical support and troubleshooting</span>
              </div>
              <div class="flex items-center">
                <span class="text-green-600 mr-3">&check;</span>
                <span class="text-gray-700">Solution recommendations and pricing</span>
              </div>
              <div class="flex items-center">
                <span class="text-green-600 mr-3">&check;</span>
                <span class="text-gray-700">Escalation to human experts when needed</span>
              </div>
            </div>

            <!-- SHANGO Chat Widget -->
            <div class="bg-white rounded-lg p-4 border border-purple-200">
              <div class="bg-white rounded-lg p-4 border border-purple-200 text-center text-gray-500">SHANGO Chat Widget Placeholder (React integration not configured)</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Enterprise Contact Information -->
    <section class="py-20 px-4 bg-gray-50">
      <div class="max-w-7xl mx-auto">
        <h2 class="text-4xl font-bold text-center text-gray-900 mb-16">
          Enterprise Contact Information
        </h2>
        <div class="grid md:grid-cols-3 gap-8">
          <!-- Phone Support -->
          <div class="bg-white p-8 rounded-xl shadow-lg text-center">
            <div class="w-16 h-16 bg-brand-red rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-2xl text-white">&#128222;#128222;#128222;#128222;</span>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">Phone Support</h3>
            <p class="text-gray-600 mb-4">24/7 Enterprise Support</p>
            <p class="text-brand-red font-semibold">+1 (555) 123-4567</p>
          </div>

          <!-- Email Support -->
          <div class="bg-white p-8 rounded-xl shadow-lg text-center">
            <div class="w-16 h-16 bg-brand-orange rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-2xl text-white">&#9993;</span>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">Email Support</h3>
            <p class="text-gray-600 mb-4">Enterprise Inquiries</p>
            <p class="text-brand-orange font-semibold">enterprise@tetrixcorp.com</p>
          </div>

          <!-- Emergency Support -->
          <div class="bg-white p-8 rounded-xl shadow-lg text-center">
            <div class="w-16 h-16 bg-brand-yellow rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-2xl text-brand-dark">&#128680;</span>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">Emergency Support</h3>
            <p class="text-gray-600 mb-4">Critical Issues Only</p>
            <p class="text-brand-yellow font-semibold">emergency@tetrixcorp.com</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 px-4 bg-gradient-to-br from-brand-red via-brand-orange to-brand-yellow">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-4xl font-bold text-white mb-8">
          Ready to Transform Your Enterprise?
        </h2>
        <p class="text-xl text-white/90 mb-8">
          Join 500+ enterprise companies already using TETRIX for mission-critical operations.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/solutions" class="bg-white text-brand-red px-8 py-4 rounded-lg font-semibold hover:bg-white/90 transition-colors shadow-lg">
            View Solutions
          </a>
          <a href="/pricing" class="bg-white/20 text-white px-8 py-4 rounded-lg font-semibold border-2 border-white/30 hover:bg-white/30 transition-colors">
            View Pricing
          </a>
        </div>
      </div>
    </section>
  </div>
</MainLayout>

<script>
  // Contact form handling
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contact-form') as HTMLFormElement;
    const submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;
    const submitText = document.getElementById('submit-text') as HTMLElement;
    const loadingText = document.getElementById('loading-text') as HTMLElement;
    const successMessage = document.getElementById('success-message') as HTMLElement;
    const errorMessage = document.getElementById('error-message') as HTMLElement;
    const errorText = document.getElementById('error-text') as HTMLElement;

    if (!form || !submitBtn || !submitText || !loadingText || !successMessage || !errorMessage || !errorText) {
      return;
    }

    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Show loading state
      submitBtn.disabled = true;
      submitText.classList.add('hidden');
      loadingText.classList.remove('hidden');
      
      // Hide previous messages
      successMessage.classList.add('hidden');
      errorMessage.classList.add('hidden');

      try {
        const formData = new FormData(form);
        const data = Object.fromEntries(formData);
        
        // Simulate API call (replace with actual endpoint)
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        // Show success message
        successMessage.classList.remove('hidden');
        form.reset();
        
      } catch (error) {
        // Show error message
        const errorMsg = error instanceof Error ? error.message : 'Please try again or contact us directly.';
        errorText.textContent = errorMsg;
        errorMessage.classList.remove('hidden');
      } finally {
        // Reset button state
        submitBtn.disabled = false;
        submitText.classList.remove('hidden');
        loadingText.classList.add('hidden');
      }
    });
  });
</script>