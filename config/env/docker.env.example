# TETRIX Docker Environment Configuration
# Copy this file to docker.env and fill in your actual values
# Note: docker.env is gitignored for security reasons

# ============================================
# Database Configuration
# ============================================
# For local Docker: Use tetrix-db service name
# For DigitalOcean: Use your DigitalOcean database connection string
DATABASE_URL=postgresql://tetrix_user:tetrix_password@tetrix-db:5432/tetrix_auth

# ============================================
# JWT Configuration
# ============================================
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production-min-32-chars
REFRESH_TOKEN_SECRET=your-refresh-token-secret-here-change-in-production-min-32-chars

# ============================================
# Better Auth Configuration
# ============================================
# Better Auth secret (can use same as JWT_SECRET or different)
BETTER_AUTH_SECRET=your-better-auth-secret-here-change-in-production-min-32-chars
BETTER_AUTH_URL=http://localhost:3001
BETTER_AUTH_BASE_URL=http://localhost:3001

# ============================================
# Telnyx Configuration
# ============================================
TELNYX_API_KEY=your_telnyx_api_key_here
TELNYX_VERIFY_PROFILE_ID=49000199-7882-f4ce-6514-a67c8190f107
TELNYX_PROFILE_ID=your_telnyx_profile_id_here
TELNYX_VERIFY_PUBLIC_KEY=your_telnyx_verify_public_key_here
TELNYX_MESSAGING_API_KEY=your_telnyx_messaging_api_key_here
TELNYX_MESSAGING_PROFILE_ID=your_telnyx_messaging_profile_id_here
TELNYX_FROM_NUMBER=+1234567890
TELNYX_API_URL=https://api.telnyx.com/v2
TELNYX_WEBHOOK_SECRET=your_telnyx_webhook_secret_here
TELNYX_OUTBOUND_PROFILE_ID=your_telnyx_outbound_profile_id_here

# ============================================
# Call Center Configuration
# ============================================
# Phone number for the call center
CALL_CENTER_NUMBER=+1234567890
# Maximum number of dial attempts before voicemail
CALL_CENTER_MAX_DIAL_ATTEMPTS=2
# Timeout in seconds for dialing agents
CALL_CENTER_DIAL_TIMEOUT=30
# Enable voicemail when no agents available
CALL_CENTER_VOICEMAIL_ENABLED=true
# Enable call recording
CALL_CENTER_RECORDING_ENABLED=true

# ============================================
# Webhook Configuration
# ============================================
# For local development: http://localhost:8082
# For production: https://your-domain.com
WEBHOOK_BASE_URL=http://localhost:8082

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:8082,http://localhost:3000,http://localhost:8080

# ============================================
# Security Features
# ============================================
FRAUD_DETECTION_ENABLED=true
RATE_LIMITING_ENABLED=true
AUDIT_LOGGING_ENABLED=true

# ============================================
# Cross-Platform Session Configuration
# ============================================
CROSS_PLATFORM_SESSION_SECRET=your-cross-platform-session-secret-here-min-32-chars

# ============================================
# Redis Configuration
# ============================================
# For local Docker: Use tetrix-redis service name
# For external Redis: Use your Redis connection string
REDIS_URL=redis://tetrix-redis:6379
REDIS_PASSWORD=tetrix_redis_password_change_me

# ============================================
# Frontend Configuration (for Astro)
# ============================================
# Backend URL for API proxying
BACKEND_URL=http://tetrix-backend:3001
TETRIX_BACKEND_URL=http://tetrix-backend:3001

# ============================================
# Healthcare EHR Integration Configuration
# ============================================
# Epic MyChart API
EPIC_API_ENDPOINT=https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR
EPIC_FHIR_BASE_URL=https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4
EPIC_CLIENT_ID=your_epic_client_id_here
EPIC_CLIENT_SECRET=your_epic_client_secret_here
EPIC_TOKEN_URL=https://fhir.epic.com/interconnect-fhir-oauth/oauth2/token

# Cerner FHIR API
CERNER_API_ENDPOINT=https://fhir.cerner.com/r4
CERNER_FHIR_BASE_URL=https://fhir.cerner.com/r4
CERNER_CLIENT_ID=your_cerner_client_id_here
CERNER_CLIENT_SECRET=your_cerner_client_secret_here
CERNER_TOKEN_URL=https://authorization.cerner.com/tenants/{tenant_id}/protocols/oauth2/profiles/smart-v1/token

# Generic FHIR Endpoint (for other EHR systems)
FHIR_BASE_URL=https://your-fhir-server.com/fhir
EHR_API_ENDPOINT=https://your-ehr-api.com/api
EHR_API_KEY=your_ehr_api_key_here

# Paging/Alerting System
PAGING_SYSTEM_ENDPOINT=https://your-paging-system.com/api/page
PAGING_API_KEY=your_paging_api_key_here

# Email Service (for reminders)
EMAIL_SERVICE_ENDPOINT=https://your-email-service.com/api/send
EMAIL_API_KEY=your_email_api_key_here

# Telemarketing Configuration
TELNYX_OUTBOUND_PROFILE_ID=your_outbound_profile_id
TELNYX_CALLER_ID=+18005551234
PREDICTIVE_DIALER_TARGET_UTILIZATION=0.85
PREDICTIVE_DIALER_MAX_CALLS_PER_AGENT=3
PREDICTIVE_DIALER_PACING_INTERVAL=5000

# TCPA Compliance
TCPA_ENFORCE_TIMEZONE=true
TCPA_CALLING_HOURS_START=8
TCPA_CALLING_HOURS_END=21
TCPA_REQUIRE_MOBILE_CONSENT=true

# CRM Integration
CRM_PROVIDER=salesforce
CRM_BASE_URL=https://your-instance.salesforce.com
CRM_API_KEY=your_crm_api_key
CRM_ACCESS_TOKEN=your_crm_access_token
CRM_CLIENT_ID=your_crm_client_id
CRM_CLIENT_SECRET=your_crm_client_secret

# ============================================
# OAuth 2.0 Configuration
# ============================================
# Encryption key for token storage (32+ bytes, hex)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-encryption-key-here-change-in-production

# Redis Configuration (already configured in docker-compose.yml)
REDIS_URL=redis://tetrix-redis:6379
REDIS_PASSWORD=tetrix_redis_password_change_me

# Salesforce OAuth
SALESFORCE_CLIENT_ID=your_salesforce_client_id
SALESFORCE_CLIENT_SECRET=your_salesforce_client_secret

# HubSpot OAuth
HUBSPOT_CLIENT_ID=your_hubspot_client_id
HUBSPOT_CLIENT_SECRET=your_hubspot_client_secret

# Epic (SMART on FHIR) OAuth
EPIC_CLIENT_ID=your_epic_client_id
EPIC_CLIENT_SECRET=your_epic_client_secret
EPIC_AUTH_URL=https://fhir.epic.com/interconnect-fhir-oauth/oauth2/authorize
EPIC_TOKEN_URL=https://fhir.epic.com/interconnect-fhir-oauth/oauth2/token

# Cerner (SMART on FHIR) OAuth
CERNER_CLIENT_ID=your_cerner_client_id
CERNER_CLIENT_SECRET=your_cerner_client_secret
CERNER_AUTH_URL=https://authorization.cerner.com/tenants/{tenant}/protocols/oauth2/profiles/smart-v1/personas/provider/authorize
CERNER_TOKEN_URL=https://authorization.cerner.com/tenants/{tenant}/protocols/oauth2/profiles/smart-v1/token

# Shopify OAuth
SHOPIFY_CLIENT_ID=your_shopify_client_id
SHOPIFY_CLIENT_SECRET=your_shopify_client_secret
SHOPIFY_AUTH_URL=https://{shop}.myshopify.com/admin/oauth/authorize
SHOPIFY_TOKEN_URL=https://{shop}.myshopify.com/admin/oauth/access_token

# Clio (Legal) OAuth
CLIO_CLIENT_ID=your_clio_client_id
CLIO_CLIENT_SECRET=your_clio_client_secret

# ============================================
# OAuth 2.0 Configuration
# ============================================
# Encryption key for token storage (32+ bytes, hex)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-encryption-key-here-change-in-production

# Salesforce OAuth
SALESFORCE_CLIENT_ID=your_salesforce_client_id
SALESFORCE_CLIENT_SECRET=your_salesforce_client_secret

# HubSpot OAuth
HUBSPOT_CLIENT_ID=your_hubspot_client_id
HUBSPOT_CLIENT_SECRET=your_hubspot_client_secret

# Epic (SMART on FHIR) OAuth - Additional configs
EPIC_AUTH_URL=https://fhir.epic.com/interconnect-fhir-oauth/oauth2/authorize

# Cerner (SMART on FHIR) OAuth - Additional configs
CERNER_AUTH_URL=https://authorization.cerner.com/tenants/{tenant}/protocols/oauth2/profiles/smart-v1/personas/provider/authorize

# Shopify OAuth
SHOPIFY_CLIENT_ID=your_shopify_client_id
SHOPIFY_CLIENT_SECRET=your_shopify_client_secret
SHOPIFY_AUTH_URL=https://{shop}.myshopify.com/admin/oauth/authorize
SHOPIFY_TOKEN_URL=https://{shop}.myshopify.com/admin/oauth/access_token

# Clio (Legal) OAuth
CLIO_CLIENT_ID=your_clio_client_id
CLIO_CLIENT_SECRET=your_clio_client_secret

# ============================================
# Optional: External API URLs
# ============================================
# EXTERNAL_API_URL=https://your-external-api.com
# ALLOWED_DOMAINS=your-domain.com,www.your-domain.com
